
 

<div class="container" > <!-- INICIO CONTAINER-->
 
 
   <div class="row"> 
       <img src="../assets/combuscol-logo.svg" id="logo">
    </div>
    
    <h1 id="vinculacion">
      Formulario de Vinculación
    </h1>
    
    <h2 id="cliente">
      Cliente contado factura electrónica
    </h2>

    <p class="row text-center" id="titulo3">
        Favor registre los datos requeridos para crearlo como cliente contado para emisión de factura electrónica 
        en COMBUSTIBLES DE COLOMBIA S.A. NIT 830513729-3, los datos suministrados son responsabilidad de la 
        persona que diligencia la información y con estos se hará la creación en nuestros sistemas de 
        información y los reportes respectivos a la Dirección de Impuestos y Aduanas Nacionales (DIAN).
    </p>
   <br>
    <div class="col-12" id="fecha"> 
       {{ fecha1 | date:'long' }} 
    </div>
       
 <br>
<!-- INICIO - NRO. DOCUMENTO - TIPO DOCUMENTO-->
   <div class="card">
      <div class="card-header text-left " id="letra1">
         Información Requerida.*
      </div>
   
      <div class="card-body">
        <div class="row">
          <div class="col-sm-4">
            <small class="text-muted">
              <label for="documento" id="negrilla">Nro. Dcto. o NIT (Sin digito de verificación): .* </label>
             </small>
             <input type="text" class="form-control" autocomplete="off" placeholder="Numero de identificación" [(ngModel)] ="documento" required (change)="validarDocumento()" />
          </div>
          <div class="col-sm-4">
            <small class="text-muted">
              <label for="documento" id="negrilla">Confirmar Nro.Dcto. o NIT : .* </label>
            </small>
            <input type="text" class="form-control" autocomplete="off" placeholder="Numero de identificación"  [(ngModel)] ="confirmardocumento" required (change)="confirmarDocumento()"/>
          </div>
          <div class="col-md-4">
            <small class="text-muted">
              <label for="documento" id="negrilla">Tipo de documento:.*</label>
            </small>
            <select class="form-select"  [(ngModel)] ="tipodocumento" required (change)="validarTipodocumento()" >
              <option value=""></option>
              <option value="31">NIT</option>
              <option value="13" >Cédula de ciudadanía</option>
              <option value= "12" >Tarjeta de identidad</option>
              <option value="21" >Tarjeta de extranjería</option>
              <option value="22" >Cédula de extranjería</option>
              <option value="41" >Pasaporte</option>
              <option value="50" >NIT de extranjería</option>
              <option value="42" >Documento extranjero</option>
              <option value="11" >Registro civil</option>
            </select>
          </div>
        </div>  <!-- TERMINACIÓN DE LA PIMERA FILA DEL CARD ACTIVO -->
        <br>

        <div class="row">
          <br>
          <div class="col-sm-8">
            <small class="text-muted">
              <label for="primernombre" id="negrilla" >Tipo persona .*</label>
            </small>
            <div class="card">
              
              <select class="form-select" [(ngModel)]="ptipopersonaA.id" > 
                <option *ngFor="let item of tipopersonaSeleccionada" value={{item.id}} > 
                     {{item.name}}
                                      
                </option>
              
              </select>
             
       
              
              <!-- CONDICIONAL DE PERSONA NATURAL -->
               <div class="card-body">
                  
                    <div class="row" *ngIf="ptipopersonaA.id=='2'; else juridica">
                      <div class="col-sm-3">
                        <div class="form-group">
                          <small class="text-muted">
                            <label for="primernombre" id="negrilla">Primer nombre:.* </label>
                          </small>
                          <input type="texto" id="primernombre" class="form-control" autocomplete="off"  aria-describedby="emailHelp" placeholder="Primer nombre"  [(ngModel)]="primernombre" required (change)="validarPrimernombre()"/>
                        </div>
                      </div>
                      <div class="col-sm-3">
                        <div class="form-group">
                          <small class="text-muted">
                            <label for="segundonombre" id="negrilla" >Segundo nombre: </label>
                          </small>
                          <input type="text" id="segundonombre" class="form-control" autocomplete="off"  aria-describedby="emailHelp" placeholder="Segundo nombre" [(ngModel)]="segundonombre" (change)="validarSegundonombre()" />
                       </div>
                      </div>
                      <div class="col-sm-3">
                       <div class="form-group">
                         <small class="text-muted">
                           <label for="primerapellido" id="negrilla" >Primer apellido:.*</label>
                         </small>
                         <input type="texto" id="primerapellido" class="form-control" autocomplete="off"  aria-describedby="emailHelp" placeholder="Primer apellido"  [(ngModel)]="primerapellido" required (change)="validarPrimerapellido()"/>
                       </div>
                      </div>
                      <div class="col-sm-3">
                       <div class="form-group">
                         <small class="text-muted">
                           <label for="segundoapellido" id="negrilla">Segundo apellido: </label>
                         </small>
                         <input type="text" id="segundoapellido" class="form-control" autocomplete="off" aria-describedby="emailHelp" placeholder="Segundo Apellido" [(ngModel)]="segundoapellido" (change)="validarSegundoapellido()" />
                       </div>
                      </div>
                   </div> <!-- Final de la fila que combina persona natural y/o juridica -->
                           <!-- Final de la fila condición persona natural-->
                  
                  
                  <!-- <ng-template *ngIf="selected=='Persona Juridica'"> -->
                  <ng-template #juridica>
                     <small class="text-muted">
                       <label for="documento" id="negrilla">Nombre o Razón Social: .* </label>
                     </small>
                     <p>
                     NOMBRE DE LA EMPRESA : {{ razonsocial }}
                     <input type="text" class="form-control"   autocomplete="off" placeholder="Nombre/Razón Social" [(ngModel)] ="razonsocial" required (change)="validarRazonsocial()" />
                    </p>
                    </ng-template>
               </div> <!-- Final de la fila CARD BODY-->
            </div>   <!-- Final de la fila CARD-->  
         </div> <!-- Final de la COLUMNA - FILA -->  

          <div class="col-md-4">
             <small class="text-muted">
               <label for="regimen" id="negrilla" >Regimen:.*</label>
             </small>
             <select class="form-select"  [(ngModel)] ="regimen"  required (change)="validarRegimen()">
               <option value=""></option>
               <option value="48" >Responsable de IVA</option>
               <option value="49" >NO Responsable de IVA</option>
             </select>
          </div>
        </div> <!-- Final de la SEGUNDA FILA GENERAL--> 
     <!-- </div>--> <!-- Final de la FILA GENERAL-->  

<!--Información adicional 10 de octubre 2023--> 

<div class="row">
  

  <div class="col-sm-4">
   
      <small class="text-muted">
        <label for="email" id="negrilla" >Correo electrónico facturación electrónica: .* </label>
      </small>
      <input type="email" class="form-control"  autocomplete="off" placeholder="Correo electrónico" [(ngModel)] ="email" required (change)="validarEmail()" />
   
  </div>

   <div class="col-sm-4">
    
      <small class="text-muted">
        <label for="confirmaremail" id="negrilla" >Confirmar correo electrónico facturación electrónica: .* </label>
      </small>
      <input type="email" class="form-control" autocomplete="off" aria-describedby="emailHelp" placeholder="Confirmar correo electrónico" [(ngModel)] ="confirmaremail" required (change)="validarConfirmaremail()"/>
    
  </div>
 
  <br>

  <div class="col-sm-4">
    <small class="text-muted">
     <label for="celular" id="negrilla" >Celular:.* </label>
    </small>
    <input type="text" class="form-control" autocomplete="off" placeholder="Celular" [(ngModel)] ="celular"  required (change)="validarCelular()" />
  </div>

</div>
<br>

<div class="row">

  <div class="col-sm-4">
    <small class="text-muted">
      <label for="dirección" id="negrilla">Dirección:.* </label>
    </small>
    <input type="text" class="form-control" autocomplete="off" placeholder="Dirección" [(ngModel)] ="direccion" required (change)="validarDireccion()" />
   </div>
  
  <div class="col-md-4">
    <div>
      <small class="text-muted">
        <label for="departamento" id="negrilla" >Departamento:.* </label>
      </small>
    </div>
      <select class="form-select" [(ngModel)] ="pselectedDpto.id" (ngModelChange)="onSelect($event)" required >
        <option *ngFor="let dpt of pdpto" value={{dpt.id}}>
         {{dpt.name}}
        </option>
      </select>
  </div>

  <div class="col-md-4">
    <div>
      <small class="text-muted">
        <label for="ciudad" id="negrilla" >Ciudad:.*</label>
      </small>
    </div>
    <select class="form-select" name="ciudad" [(ngModel)] ="pselectedCity.id" (change)="validarCity()">
      <option *ngFor="let cities of ciudadesSeleccionadas" value={{cities.id}} >
        {{cities.name}}
      </option>
    </select>
  </div>


 </div>

 <br>

 <div class="row">
  <div class="col-sm-8">
    <small class="text-muted">
      <label for="rut" id="negrilla">Cargue su RUT:.* </label>
    </small>
    <input name="rut" type="file" [(ngModel)] ="rut" class="form-control" id="rut" placeholder="Seleccione su RUT" (change)="setRut($event)"  />
   </div> 
 </div>
   </div><!-- FINAL DEL CARD ACTIVO-->  
</div>
  <!-- INICIO - EMAIL - CONFIRMACIÓN DE EMAIL -->
    
 <!-- FIN - EMAIL - CONFIRMACIÓN DE EMAIL -->
 <!-- INICIO - CELULAR - DIRECCIÓN -->
 
  


<!-- INICIO - DEPARTAMENTOS - CIUDADES  -->


 <!-- FIN - DEPARTAMENTOS - CIUDADES  -->
 
<br>
 
 <div class="card">
  <div class="card-header text-left " id="letra2">
     Información Opcional
   
  </div>

  

  <div class="card-body" id="autorizo">
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <small class="text-muted">
              <label for="email" id="negrilla">Correo electrónico opcional 1: </label>
            </small>
            <input type="emailopcional1" class="form-control" autocomplete="off" id="emailopcional1" aria-describedby="emailHelp" placeholder="Correo electrónico opcional 1" [(ngModel)] ="email_alternativo_1" (change)="validarEmail()" />
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <small class="text-muted">
              <label for="confirmaremail" id="negrilla" >Confirmar correo electrónico opcional 1 </label>
            </small>
            <input type="confirmaropcional1" class="form-control" autocomplete="off" id="confirmaropcional1" aria-describedby="emailHelp" placeholder="Confirmar correo electrónico opcional 1" [(ngModel)] ="confirmaremail1" (change)="validarConfirmaremail()"/>
          </div>
        </div>
      </div> <!-- PRIMERA FILA CONFIRMACIÓN CORREO 1  -->
      <div class="row">
        <div class="col-sm-6">
          <div class="form-group">
            <small class="text-muted">
              <label for="email" id="negrilla">Correo electrónico opcional 2: </label>
            </small>
            <input type="emailopcional2" class="form-control" autocomplete="off" id="emailopcional2" aria-describedby="emailHelp" placeholder="Correo electrónico opcional 2" [(ngModel)] ="email_alternativo_2" (change)="validarEmail()" />
          </div>
        </div>
        <div class="col-sm-6">
          <div class="form-group">
            <small class="text-muted">
              <label for="confirmaremail" id="negrilla" >Confirmar correo electrónico opcional 2 </label>
            </small>
            <input type="confirmaropcional2" class="form-control" autocomplete="off" id="emailopcional2" aria-describedby="emailHelp" placeholder="Confirmar correo electrónico opcional 2" [(ngModel)] ="confirmaremail2" (change)="validarConfirmaremail()"/>
          </div>
        </div>
      </div> <!-- SEGUNDA FILA CONFIRMACIÓN CORREO 2  -->
   </div> <!-- CIERRE CARD BODY INFORMACIÓN ADICIONAL  -->
  </div> <!-- CIERRE DEL CARD INFORMACIÓN ADICIONAL  -->

 
 <!-- INICIO DE CONDICIONES  -->
 <br>
 <div class="card">
    <div class="row">
      <div class="col-sm-12" >
        <div class="form-check" >
          <input type="checkbox" class="form-check-input text-center" id1="exampleCheck2" [(ngModel)]="ok" />
            <small class="text-muted">
              <label class="form-check-label2 text-center"  for="exampleCheck2">
                 Autorizo de forma previa, expresa e informada a Combustibles de Colombia S.A. 
                 <a href="https://www.combuscol.com/docs/autorizaciontratamientodedatospersonales.pdf" target="_blank">
                  el tratamiento de mis datos personales
                </a> 
               bajo las siguientes condiciones
              </label>
            </small>
        </div>
      </div>
    </div>
 
    
 
  </div>
      <!-- FIN DE CONDICIONES  -->
      <app-toast [mensaje]="error"></app-toast>
    <app-toasthide [mensaje1]="error"></app-toasthide>
         
 
    
      <div class="card">
        <div class="titulo">{{error}}</div>
      </div>
 
      
<!--<div class="titulo">{{error}}</div>-->

  </div> <!-- FIN DE CONTAINER -->

 
    <br>

    <p class="col-md-12 text-center" >
      <button type="button" class="btn btn-primary"  id="boton1" data-bs-toggle="modal" (click)="continuar()" data-bs-target="#exampleModal" >
       Registrarse
      </button>
    </p>

    

    <!-- this comment was realized by Miguel Cano on september 13 thirteen
    <div>
      <ul>
        <li>
          <a style="color: #e63020"  >
            
          </a>
        </li>
      </ul>
    </div>-->

  <!-- this comment was realized by Miguel Cano on september 13 thirteen-->
   <!-- <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
       <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">¿ ESTA SEGURO DE REGISTRAR ESTE CLIENTE COMO FACTURADOR ELECTRÓNICO ?</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
           <button type="button" class="btn btn-primary" (click)="continuar()" >Continuar</button>
          </div>
        </div>
      </div>
      
    </div>-->


<!-- FIN CONTAINER-->




